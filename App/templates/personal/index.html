{% extends 'personal/base.html' %}
<!-- Content Blocks -->
{% block content %}
<div class="container py-4">
    <h1 class="h5 fw-bold mb-3">Layanan Personal</h1>
    <div class="row mb-5">
        <div class="col-sm-12 col-lg-4 mb-3">
            <div class="card card-body border-0 rounded-5 d-flex flex-row align-items-center gap-3">
                <svg width="72" height="72" viewBox="0 0 72 72" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <rect width="72" height="72" rx="24" fill="#FCB45E" />
                    <path
                        fill-rule="evenodd"
                        clip-rule="evenodd"
                        d="M44.3542 21.3163L48.0494 25.0115C53.4791 30.4433 56.1929 33.1571 56.1929 36.5292C56.1929 39.9033 53.4791 42.6172 48.0494 48.0469C42.6177 53.4786 39.9038 56.1925 36.5297 56.1925C33.1576 56.1925 30.4417 53.4786 25.012 48.0489L21.3168 44.3537C18.1971 41.232 16.6362 39.6732 16.0567 37.6479C15.4752 35.6226 15.9719 33.4721 16.9653 29.1732L17.5368 26.6935C18.3707 23.0751 18.7887 21.2658 20.0265 20.026C21.2643 18.7862 23.0755 18.3703 26.694 17.5363L29.1736 16.9629C33.4746 15.9714 35.623 15.4747 37.6483 16.0542C39.6736 16.6358 41.2345 18.1966 44.3542 21.3163ZM34.2762 40.7009C32.9173 39.344 32.9274 37.3934 33.7411 35.8487C33.5397 35.5578 33.4465 35.2054 33.4778 34.8529C33.509 34.5003 33.6628 34.1699 33.9123 33.9189C34.1619 33.6679 34.4914 33.5123 34.8438 33.479C35.1961 33.4457 35.549 33.5368 35.8411 33.7366C36.5277 33.3732 37.2808 33.1793 38.032 33.1874C38.4336 33.1911 38.8173 33.3543 39.0987 33.6409C39.3801 33.9276 39.536 34.3143 39.5323 34.7159C39.5285 35.1176 39.3654 35.5013 39.0787 35.7827C38.7921 36.064 38.4054 36.22 38.0037 36.2162C37.5362 36.2335 37.0943 36.4345 36.774 36.7756C35.9926 37.557 36.1965 38.3405 36.4166 38.5606C36.6387 38.7807 37.4202 38.9846 38.2016 38.2032C39.7847 36.6201 42.5187 36.0951 44.2694 37.8458C45.6283 39.2047 45.6182 41.1553 44.8045 42.7C45.0047 42.991 45.0968 43.3429 45.065 43.6947C45.0331 44.0465 44.8793 44.3761 44.6301 44.6265C44.381 44.8769 44.0521 45.0323 43.7004 45.0658C43.3488 45.0993 42.9965 45.0089 42.7045 44.8101C41.7984 45.3072 40.7473 45.4729 39.7322 45.2785C39.3386 45.1977 38.9932 44.9638 38.772 44.6283C38.5509 44.2927 38.4721 43.8831 38.5529 43.4895C38.6338 43.0959 38.8677 42.7505 39.2032 42.5294C39.5387 42.3082 39.9484 42.2294 40.342 42.3103C40.6994 42.385 41.2769 42.2679 41.7716 41.7732C42.553 40.9897 42.3491 40.2083 42.129 39.9882C41.9069 39.7681 41.1254 39.5641 40.344 40.3456C38.7609 41.9286 36.0269 42.4536 34.2762 40.7009ZM32.0026 32.5533C32.3775 32.1783 32.6749 31.733 32.8778 31.243C33.0806 30.753 33.185 30.2278 33.1849 29.6974C33.1848 29.1671 33.0803 28.642 32.8772 28.152C32.6742 27.6621 32.3766 27.2169 32.0015 26.842C31.6265 26.467 31.1812 26.1696 30.6912 25.9667C30.2012 25.7639 29.676 25.6595 29.1456 25.6596C28.6153 25.6597 28.0901 25.7642 27.6002 25.9673C27.1103 26.1703 26.6651 26.4679 26.2902 26.843C25.5329 27.6005 25.1076 28.6278 25.1078 29.6989C25.108 30.77 25.5337 31.7971 26.2912 32.5544C27.0487 33.3116 28.076 33.7369 29.1471 33.7367C30.2182 33.7365 31.2453 33.3109 32.0026 32.5533Z"
                        fill="white"
                    />
                </svg>
                <h3 class="text-yellow fw-bold">Harga<br />Pangan</h3>
            </div>
        </div>
        <div class="col-sm-12 col-lg-4 mb-3">
            <div class="card card-body border-0 rounded-5 d-flex flex-row align-items-center gap-3">
                <svg width="72" height="72" viewBox="0 0 72 72" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <rect width="72" height="72" rx="24" fill="#FF6B6B" />
                    <path
                        d="M31.326 51.5768C31.7391 51.5768 32.1354 51.741 32.4275 52.0331C32.7196 52.3252 32.8837 52.7214 32.8837 53.1345C32.8837 53.5477 32.7196 53.9439 32.4275 54.236C32.1354 54.5281 31.7391 54.6922 31.326 54.6922C30.9129 54.6922 30.5167 54.5281 30.2246 54.236C29.9324 53.9439 29.7683 53.5477 29.7683 53.1345C29.7683 52.7214 29.9324 52.3252 30.2246 52.0331C30.5167 51.741 30.9129 51.5768 31.326 51.5768ZM40.6722 51.5768C41.0853 51.5768 41.4815 51.741 41.7736 52.0331C42.0658 52.3252 42.2299 52.7214 42.2299 53.1345C42.2299 53.5477 42.0658 53.9439 41.7736 54.236C41.4815 54.5281 41.0853 54.6922 40.6722 54.6922C40.2591 54.6922 39.8628 54.5281 39.5707 54.236C39.2786 53.9439 39.1145 53.5477 39.1145 53.1345C39.1145 52.7214 39.2786 52.3252 39.5707 52.0331C39.8628 51.741 40.2591 51.5768 40.6722 51.5768ZM26.6529 48.4615C27.0661 48.4615 27.4623 48.6256 27.7544 48.9177C28.0465 49.2098 28.2106 49.606 28.2106 50.0192C28.2106 50.4323 28.0465 50.8285 27.7544 51.1206C27.4623 51.4127 27.0661 51.5768 26.6529 51.5768C26.2398 51.5768 25.8436 51.4127 25.5515 51.1206C25.2594 50.8285 25.0953 50.4323 25.0953 50.0192C25.0953 49.606 25.2594 49.2098 25.5515 48.9177C25.8436 48.6256 26.2398 48.4615 26.6529 48.4615ZM35.9991 48.4615C36.4122 48.4615 36.8084 48.6256 37.1006 48.9177C37.3927 49.2098 37.5568 49.606 37.5568 50.0192C37.5568 50.4323 37.3927 50.8285 37.1006 51.1206C36.8084 51.4127 36.4122 51.5768 35.9991 51.5768C35.586 51.5768 35.1898 51.4127 34.8976 51.1206C34.6055 50.8285 34.4414 50.4323 34.4414 50.0192C34.4414 49.606 34.6055 49.2098 34.8976 48.9177C35.1898 48.6256 35.586 48.4615 35.9991 48.4615ZM45.3453 48.4615C45.7584 48.4615 46.1546 48.6256 46.4467 48.9177C46.7388 49.2098 46.9029 49.606 46.9029 50.0192C46.9029 50.4323 46.7388 50.8285 46.4467 51.1206C46.1546 51.4127 45.7584 51.5768 45.3453 51.5768C44.9321 51.5768 44.5359 51.4127 44.2438 51.1206C43.9517 50.8285 43.7876 50.4323 43.7876 50.0192C43.7876 49.606 43.9517 49.2098 44.2438 48.9177C44.5359 48.6256 44.9321 48.4615 45.3453 48.4615ZM35.9991 17.3076C43.6785 17.3076 48.0338 22.2112 48.6663 28.1305H48.8594C53.8004 28.1305 57.8068 31.9842 57.8068 36.7383C57.8068 41.4923 53.8004 45.3461 48.8594 45.3461H23.1388C18.1978 45.3461 14.1914 41.4923 14.1914 36.7383C14.1914 32.1587 17.9049 28.4171 22.5936 28.146L23.3319 28.1305C23.9706 22.1707 28.3197 17.3076 35.9991 17.3076Z"
                        fill="white"
                    />
                </svg>

                <h3 class="text-red fw-bold">Pantauan<br />Cuaca</h3>
            </div>
        </div>
        <div class="col-sm-12 col-lg-4 mb-3">
            <div class="card card-body border-0 rounded-5 d-flex flex-row align-items-center gap-3">
                <svg width="72" height="72" viewBox="0 0 72 72" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <rect width="72" height="72" rx="24" fill="#5FAA4E" />
                    <path
                        d="M55.212 23.1923H50.9428V42.4038H23.1928V46.673C23.1928 47.8471 24.1533 48.8077 25.3274 48.8077H48.8081L57.3466 57.3461V25.3269C57.3466 24.1528 56.386 23.1923 55.212 23.1923ZM46.6735 36V16.7884C46.6735 15.6144 45.713 14.6538 44.5389 14.6538H16.7889C15.6149 14.6538 14.6543 15.6144 14.6543 16.7884V46.673L23.1928 38.1346H44.5389C45.713 38.1346 46.6735 37.174 46.6735 36Z"
                        fill="white"
                    />
                </svg>

                <h3 class="text-green fw-bold">Forum</h3>
            </div>
        </div>
    </div>

    <div class="d-flex align-items-center justify-content-between mb-3">
        <h1 class="h5 fw-bold mb-0">Daftar Artikel</h1>
        <a href="{{ url_for('views.write_article' ) }}" role="button" class="btn btn-green d-flex fw-bold text-white"><i class="bi bi-pencil-fill me-2"></i>Tulis artikel</a>
    </div>
    <div class="row mb-5">
        <div class="col">
            {% if not articles %}
            <div class="card card-body rounded-5 card-green-outline d-flex align-items-center justify-content-center">
                <p class="fw-bold text-dark mb-0">Belum ada artikel</p>
                <small class="text-muted mb-3">Mulai menulis artikel pertama anda</small>
                <a href="{{ url_for('views.write_article' ) }}" class="btn btn-green fw-bold text-light">Buat Artikel</a>
            </div>
            {% else %}
            <div class="table-responsive">
                <table class="table">
                    <thead>
                        <tr class="fw-bold">
                            <td>Judul</td>
                            <td>Dibuat Pada</td>
                            <td>Status</td>
                            <td>Detail</td>
                        </tr>
                    </thead>
                    <tbody>
                        {% for item in articles %}
                        <tr class="align-middle">
                            <td>{{ item.judul }}</td>
                            <td class="date">{{ item.created_at }}</td>
                            <td>
                                {% if item.is_drafted == 1 %}
                                <span class="badge text-bg-secondary">Draft</span>
                                {% else %}
                                <span class="badge text-bg-success">Diposting</span>
                                {% endif %}
                            </td>
                            <td>
                                <button type="button" class="btn btn-light" data-bs-toggle="modal" data-bs-target="#articlesDetailModal{{item.id}}"><i class="bi bi-three-dots-vertical"></i></button>
                            </td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
            <div class="d-flex justify-content-center">
                <nav aria-label="Page navigation">
                    <ul class="pagination">
                        {% if articles_pagination.has_prev %}
                        <li class="page-item">
                            <a class="page-link text-success" href="{{ url_for('views.personal', page=articles_pagination.prev_num) }}" aria-label="Previous">
                                <span aria-hidden="true"><i class="bi bi-chevron-double-left"></i></span>
                            </a>
                        </li>
                        {% else %}
                        <li class="page-item disabled">
                            <a class="page-link text-success" href="#" aria-label="Previous">
                                <span aria-hidden="true"><i class="bi bi-chevron-double-left"></i></span>
                            </a>
                        </li>
                        {% endif %} {% if articles_pagination.page <= 3 %} {% for page_num in range(1, min(articles_pagination.pages, 4) + 1) %} {% if page_num == articles_pagination.page %}
                        <li class="page-item active" aria-current="page">
                            <span class="page-link bg-success border-success">{{ page_num }}</span>
                        </li>
                        {% else %}
                        <li class="page-item">
                            <a class="page-link text-success" href="{{ url_for('views.personal', page=page_num) }}">{{ page_num }}</a>
                        </li>
                        {% endif %} {% endfor %} {% if articles_pagination.pages > 3 %}
                        <li class="page-item disabled">
                            <a class="page-link text-success" href="#">…</a>
                        </li>
                        <li class="page-item">
                            <a class="page-link text-success" href="{{ url_for('views.personal', page=articles_pagination.pages) }}">{{ articles_pagination.pages }}</a>
                        </li>
                        {% endif %} {% elif articles_pagination.page >= articles_pagination.pages - 2 %}
                        <li class="page-item">
                            <a class="page-link text-success" href="{{ url_for('views.personal', page=1) }}">1</a>
                        </li>
                        <li class="page-item disabled">
                            <a class="page-link text-success" href="#">…</a>
                        </li>
                        {% for page_num in range(max(1, articles_pagination.pages - 3), articles_pagination.pages + 1) %} {% if page_num == articles_pagination.page %}
                        <li class="page-item active" aria-current="page">
                            <span class="page-link bg-success border-success">{{ page_num }}</span>
                        </li>
                        {% else %}
                        <li class="page-item">
                            <a class="page-link text-success" href="{{ url_for('views.personal', page=page_num) }}">{{ page_num }}</a>
                        </li>
                        {% endif %} {% endfor %} {% else %}
                        <li class="page-item">
                            <a class="page-link text-success" href="{{ url_for('views.personal', page=1) }}">1</a>
                        </li>
                        <li class="page-item disabled">
                            <a class="page-link text-success" href="#">…</a>
                        </li>
                        {% for page_num in range(articles_pagination.page - 1, articles_pagination.page + 2) %} {% if page_num == articles_pagination.page %}
                        <li class="page-item active" aria-current="page">
                            <span class="page-link bg-success border-success">{{ page_num }}</span>
                        </li>
                        {% else %}
                        <li class="page-item">
                            <a class="page-link text-success" href="{{ url_for('views.personal', page=page_num) }}">{{ page_num }}</a>
                        </li>
                        {% endif %} {% endfor %}
                        <li class="page-item disabled">
                            <a class="page-link text-success" href="#">…</a>
                        </li>
                        <li class="page-item">
                            <a class="page-link text-success" href="{{ url_for('views.personal', page=articles_pagination.pages) }}">{{ articles_pagination.pages }}</a>
                        </li>
                        {% endif %} {% if articles_pagination.has_next %}
                        <li class="page-item">
                            <a class="page-link text-success" href="{{ url_for('views.personal', page=articles_pagination.next_num) }}" aria-label="Next">
                                <span aria-hidden="true"><i class="bi bi-chevron-double-right"></i></span>
                            </a>
                        </li>
                        {% else %}
                        <li class="page-item disabled">
                            <a class="page-link text-success" href="#" aria-label="Next">
                                <span aria-hidden="true"><i class="bi bi-chevron-double-right"></i></span>
                            </a>
                        </li>
                        {% endif %}
                    </ul>
                </nav>
            </div>
            {% endif %}
        </div>
    </div>

    <div class="d-flex align-items-center justify-content-between mb-3">
        <h1 class="h5 fw-bold mb-0">Daftar Pertanyaan</h1>
        <a href="{{ url_for('views.rindangtalk' ) }}" role="button" class="btn btn-green d-flex fw-bold text-white"><i class="bi bi-plus-circle-fill me-2"></i>Buat pertanyaan</a>
    </div>
    <div class="row mb-3">
        <div class="col">
            {% if not forum %}
            <div class="card card-body rounded-5 card-green-outline d-flex align-items-center justify-content-center">
                <p class="fw-bold text-dark mb-0">Buat Pertanyaan</p>
                <small class="text-muted mb-3">Tanyakan pertanyaanmu kepada ahli</small>
                <a role="button" href="{{ url_for('views.rindangtalk' ) }}" class="btn btn-green fw-bold text-light">Buat Pertanyaan</a>
            </div>
            {% else %}
            <div class="table-responsive">
                <table class="table">
                    <thead>
                        <tr class="fw-bold">
                            <td>Pertanyaan</td>
                            <td>Dibuat Pada</td>
                            <td>Status</td>
                            <td>Detail</td>
                        </tr>
                    </thead>
                    <tbody>
                        {% for item in forum %}
                        <tr class="align-middle">
                            <!-- <td>{{ item.question }}</td> -->
                            <td class="text-truncate" style="max-width: 300px">{{ item.question }}</td>
                            <td class="date">{{ item.created_at }}</td>
                            <td>
                                {% if item.answer %}
                                <span class="badge text-bg-success">Dijawab</span>
                                {% else %}
                                <span class="badge text-bg-secondary">Menunggu Jawaban</span>
                                {% endif %}
                            </td>
                            <td>
                                <button type="button" class="btn btn-light" data-bs-toggle="modal" data-bs-target="#forumDetailModal{{item.id}}"><i class="bi bi-three-dots-vertical"></i></button>
                            </td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
            <div class="d-flex justify-content-center">
                <nav aria-label="Page navigation">
                    <ul class="pagination">
                        {% if articles_pagination.has_prev %}
                        <li class="page-item">
                            <a class="page-link text-success" href="{{ url_for('views.personal', page=articles_pagination.prev_num) }}" aria-label="Previous">
                                <span aria-hidden="true"><i class="bi bi-chevron-double-left"></i></span>
                            </a>
                        </li>
                        {% else %}
                        <li class="page-item disabled">
                            <a class="page-link text-success" href="#" aria-label="Previous">
                                <span aria-hidden="true"><i class="bi bi-chevron-double-left"></i></span>
                            </a>
                        </li>
                        {% endif %} {% if articles_pagination.page <= 3 %} {% for page_num in range(1, min(articles_pagination.pages, 4) + 1) %} {% if page_num == articles_pagination.page %}
                        <li class="page-item active" aria-current="page">
                            <span class="page-link bg-success border-success">{{ page_num }}</span>
                        </li>
                        {% else %}
                        <li class="page-item">
                            <a class="page-link text-success" href="{{ url_for('views.personal', page=page_num) }}">{{ page_num }}</a>
                        </li>
                        {% endif %} {% endfor %} {% if articles_pagination.pages > 3 %}
                        <li class="page-item disabled">
                            <a class="page-link text-success" href="#">…</a>
                        </li>
                        <li class="page-item">
                            <a class="page-link text-success" href="{{ url_for('views.personal', page=articles_pagination.pages) }}">{{ articles_pagination.pages }}</a>
                        </li>
                        {% endif %} {% elif articles_pagination.page >= articles_pagination.pages - 2 %}
                        <li class="page-item">
                            <a class="page-link text-success" href="{{ url_for('views.personal', page=1) }}">1</a>
                        </li>
                        <li class="page-item disabled">
                            <a class="page-link text-success" href="#">…</a>
                        </li>
                        {% for page_num in range(max(1, articles_pagination.pages - 3), articles_pagination.pages + 1) %} {% if page_num == articles_pagination.page %}
                        <li class="page-item active" aria-current="page">
                            <span class="page-link bg-success border-success">{{ page_num }}</span>
                        </li>
                        {% else %}
                        <li class="page-item">
                            <a class="page-link text-success" href="{{ url_for('views.personal', page=page_num) }}">{{ page_num }}</a>
                        </li>
                        {% endif %} {% endfor %} {% else %}
                        <li class="page-item">
                            <a class="page-link text-success" href="{{ url_for('views.personal', page=1) }}">1</a>
                        </li>
                        <li class="page-item disabled">
                            <a class="page-link text-success" href="#">…</a>
                        </li>
                        {% for page_num in range(articles_pagination.page - 1, articles_pagination.page + 2) %} {% if page_num == articles_pagination.page %}
                        <li class="page-item active" aria-current="page">
                            <span class="page-link bg-success border-success">{{ page_num }}</span>
                        </li>
                        {% else %}
                        <li class="page-item">
                            <a class="page-link text-success" href="{{ url_for('views.personal', page=page_num) }}">{{ page_num }}</a>
                        </li>
                        {% endif %} {% endfor %}
                        <li class="page-item disabled">
                            <a class="page-link text-success" href="#">…</a>
                        </li>
                        <li class="page-item">
                            <a class="page-link text-success" href="{{ url_for('views.personal', page=articles_pagination.pages) }}">{{ articles_pagination.pages }}</a>
                        </li>
                        {% endif %} {% if articles_pagination.has_next %}
                        <li class="page-item">
                            <a class="page-link text-success" href="{{ url_for('views.personal', page=articles_pagination.next_num) }}" aria-label="Next">
                                <span aria-hidden="true"><i class="bi bi-chevron-double-right"></i></span>
                            </a>
                        </li>
                        {% else %}
                        <li class="page-item disabled">
                            <a class="page-link text-success" href="#" aria-label="Next">
                                <span aria-hidden="true"><i class="bi bi-chevron-double-right"></i></span>
                            </a>
                        </li>
                        {% endif %}
                    </ul>
                </nav>
            </div>
            {% endif %}
        </div>
    </div>
</div>

<!-- Modal -->
{% for item in articles %}
<div class="modal fade" id="articlesDetailModal{{ item.id }}" tabindex="-1" aria-labelledby="articlesDetailModal{{ item.id }}Label" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title fs-5" id="articlesDetailModal{{ item.id }}Label">
                    Detail Artikel {% if item.is_drafted == 1 %}<span class="badge text-bg-secondary">Draft</span>{% else %}<span class="badge text-bg-success">Diposting</span>{% endif %}
                </h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p><span class="fw-bold">Status: </span>{% if item.is_approved %}<span class="badge text-bg-info">Disetujui</span>{% else %}<span class="badge text-bg-secondary">Belum Disetujui</span>{% endif %}</p>
                <p><span class="fw-bold">Judul: </span> {{ item.judul }}</p>
                <p><span class="fw-bold">Dibuat pada: </span> <span class="date">{{ item.created_at }}</span></p>
                <p><span class="fw-bold">Konten: </span>{{ item.content | safe }}</p>
            </div>
            <div class="modal-footer justify-content-between">
                <a role="button" href="{{ url_for('views.read_article', id=item.id ) }}" class="link-dark fw-bold mx-3">Baca Artikel</a>
                <div class="d-flex gap-2">
                    <button type="button" class="btn btn-outline-danger" data-bs-toggle="modal" data-bs-target="#articlesConfirmDel{{item.id}}">Hapus</button>
                    <a role="button" href="{{ url_for('views.update_article', id=item.id ) }}" class="btn btn-green fw-bold text-white">Edit</a>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Delete Modal -->
<div class="modal fade" id="articlesConfirmDel{{ item.id }}" tabindex="-1" aria-labelledby="articlesConfirmDel{{ item.id }}Label" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title fs-5" id="articlesConfirmDel{{ item.id }}Label">Hapus Artikel</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p class="text-center mb-0">Anda yakin akan menghapus artikel ini?</p>
                <p class="mb-0 fw-bold text-center">"{{ item.judul }}"</p>
            </div>
            <div class="modal-footer">
                <a role="button" href="{{ url_for('views.delete_article', id=item.id ) }}" class="btn btn-outline-danger">Ya, Hapus</a>
                <button type="button" class="btn btn-secondary" data-bs-toggle="modal" data-bs-target="#articlesDetailModal{{item.id}}">Batal</button>
            </div>
        </div>
    </div>
</div>
{% endfor %}

<!-- SEPARATOR -->

{% for item in forum %}
<div class="modal fade" id="forumDetailModal{{ item.id }}" tabindex="-1" aria-labelledby="forumDetailModal{{ item.id }}Label" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title fs-5" id="forumDetailModal{{ item.id }}Label">
                    Detail Pertanyaan {% if item.answer %}<span class="badge text-bg-success">Dijawab</span>{% else %}<span class="badge bg-yellow">Menunggu Jawaban</span>{% endif %}
                </h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p><span class="fw-bold">Dibuat pada :</span> <span class="date">{{ item.created_at }}</span></p>
                <p><span class="fw-bold">Pertanyaan :</span> {{ item.question }}</p>
            </div>
            <div class="modal-footer justify-content-between">
                <a role="button" href="{{ url_for('views.read_article', id=item.id ) }}" class="link-dark fw-bold mx-3">Baca Artikel</a>
                <div class="d-flex gap-2">
                    <button type="button" class="btn btn-outline-danger" data-bs-toggle="modal" data-bs-target="#forumConfirmDel{{item.id}}">Hapus</button>
                    <a role="button" href="{{ url_for('views.update_question', id=item.id ) }}" class="btn btn-green fw-bold text-white">Edit</a>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Delete Modal -->
<div class="modal fade" id="forumConfirmDel{{ item.id }}" tabindex="-1" aria-labelledby="forumConfirmDel{{ item.id }}Label" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title fs-5" id="forumConfirmDel{{ item.id }}Label">Hapus Artikel</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p class="text-center mb-0">Anda yakin akan menghapus pertanyaan ini?</p>
            </div>
            <div class="modal-footer">
                <a role="button" href="{{ url_for('views.delete_question', id=item.id ) }}" class="btn btn-outline-danger">Ya, Hapus</a>
                <button type="button" class="btn btn-secondary" data-bs-toggle="modal" data-bs-target="#forumDetailModal{{item.id}}">Batal</button>
            </div>
        </div>
    </div>
</div>
{% endfor %}
<!-- End of block -->
{% endblock %} {% block scripts %}
<script>
    const dateElements = document.querySelectorAll('.date');

    console.log(dateElements);

    dateElements.forEach((element) => {
        const dateString = element.textContent.trim(); // Get the date string from the element's text content
        const date = new Date(dateString);

        if (isNaN(date.getTime())) {
            //check if date is valid
            console.error('Invalid date string:', dateString);
            return; //skip invalid dates
        }

        const options = { day: 'numeric', month: 'long', year: 'numeric' };
        const formattedDate = date.toLocaleDateString('id-ID', options); // Indonesian locale - adjust as needed

        element.textContent = formattedDate; // Update the element's text content
    });
</script>
{% endblock %}
